// Generated by CoffeeScript 1.4.0
(function() {

  describe('Pica.JS', function() {
    describe('#start()', function() {
      it('should render the map', function() {
        var stub;
        stub = sinon.stub(Pica, 'renderMap');
        Pica.start({
          map: 'map'
        });
        assert(stub.calledWith('map'));
        return Pica.renderMap.restore();
      });
      return it('should render the sidebar', function() {
        var stub;
        stub = sinon.stub(Pica, 'renderSidebar');
        Pica.start({
          sidebar: '#sidebar'
        });
        assert(stub.calledWith('#sidebar'));
        return Pica.renderSidebar.restore();
      });
    });
    describe('#renderMap()', function() {
      return it('should render a map with Leaflet', function() {
        var stub;
        stub = sinon.stub(L, 'map');
        Pica.renderMap('map');
        assert(stub.calledWith('map'));
        return L.map.restore();
      });
    });
    return describe('#renderSidebar()', function() {
      it('should create a New Area element', function() {
        var sidebar_div, stub;
        sidebar_div = $('<div id="sidebar">');
        stub = sinon.stub($.fn, 'init');
        stub.withArgs('#sidebar').returns(sidebar_div);
        Pica.renderSidebar('#sidebar');
        assert.notEqual(sidebar_div.text().indexOf('New Area'), -1, "Sidebar doesn't contain 'New Area' text");
        return $.fn.init.restore();
      });
      it('should create an element to load a saved Area of Interest', function() {
        var sidebar_div, stub;
        sidebar_div = $('<div id="sidebar">');
        stub = sinon.stub($.fn, 'init');
        stub.withArgs('#sidebar').returns(sidebar_div);
        Pica.renderSidebar('#sidebar');
        assert.notEqual(sidebar_div.text().indexOf('or load a saved Area of Interest'), -1, "Sidebar doesn't contain 'or load a saved Area of Interest' text");
        return $.fn.init.restore();
      });
      context('when there is no data', function() {
        return it('should show some initial instructions', function() {
          var sidebar_div, stub;
          sidebar_div = $('<div id="sidebar">');
          stub = sinon.stub($.fn, 'init');
          stub.withArgs('#sidebar').returns(sidebar_div);
          Pica.renderSidebar('#sidebar');
          assert.notEqual(sidebar_div.text().indexOf('Click on the map to start drawing your first polygon and define an Area Of Interest'), -1, "Sidebar doesn't contain introduction text");
          return $.fn.init.restore();
        });
      });
      return describe('when there is data', function() {
        it('should create an element to delete each of the Areas');
        it('should create a tab for each Area');
        it('should show the name of each Layer');
        return it('should show statistics for each Layer');
      });
    });
  });

}).call(this);
