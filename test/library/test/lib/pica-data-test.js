// Generated by CoffeeScript 1.4.0
(function() {

  describe('PicaData.JS', function() {
    return describe('#fetch()', function() {
      before(function() {
        return this.server = sinon.fakeServer.create();
      });
      after(function() {
        return this.server.restore();
      });
      it('should reset the data from the server', function() {
        var callback, picaData;
        this.server.respondWith("GET", "all.json", [
          200, {
            "Content-Type": "application/json"
          }, '{"id": 1}'
        ]);
        callback = sinon.spy();
        picaData = new PicaData();
        picaData.fetch({
          success: callback
        });
        this.server.respond();
        return sinon.assert.calledWith(callback, {
          id: 1
        });
      });
      return it('should use the config.url');
    });
  });

}).call(this);
