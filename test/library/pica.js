// Generated by CoffeeScript 1.4.0
(function() {
  var Pica, Workspace;

  Workspace = (function() {

    function Workspace() {}

    return Workspace;

  })();

  window.Workspace = Workspace;

  Pica = (function() {

    function Pica(_options) {
      this.options = _options || {};
      this.createWorkspace();
      this.fetch();
    }

    Pica.prototype.createWorkspace = function() {
      return this.workspace = new Workspace(this, this.getWorkspaceIdFromUrl());
    };

    Pica.prototype.fetch = function() {
      return $.getJSON("" + this.options.server_url + "/applications/1.json", this.parse);
    };

    Pica.prototype.parse = function(data) {};

    Pica.prototype.getWorkspaceIdFromUrl = function() {
      var match;
      match = this.getLocationHash().match(/workspace\/(\d+)/);
      if (match) {
        return match[1];
      }
      return null;
    };

    Pica.prototype.getLocationHash = function() {
      return window.location.hash;
    };

    return Pica;

  })();

  window.Pica = Pica;

}).call(this);
